<div class="container mt-4">
  <div class="row">
    <div class="col-md-6 mx-auto">
      <button mat-raised-button color="primary" class="mb-3" (click)="navigateToAddCategory()">
        <mat-icon>add</mat-icon>
        Add New Category
      </button>
      <div class="card category-container" *ngFor="let category of categories">
        <div class="card-body">
          <h5 class="card-title">{{ category.name }}</h5>
          <p class="category-description mb-3">{{ category.description }}</p>
          <!-- Edit button -->
          <button mat-icon-button color="primary" (click)="editCategory(category)">
            <mat-icon>edit</mat-icon>
          </button>          
          <button mat-icon-button color="warn" (click)="deleteCategory(category.id)">
            <mat-icon>delete</mat-icon>
          </button>
          <button mat-icon-button color="success" (click)="navigateToSubcategories(category.id)">
            <mat-icon>visibility</mat-icon>
          </button>
          <!-- Edit form -->
          <div *ngIf="editingCategoryId === category.id">
            <form (submit)="saveChanges()">
              <input type="text" [ngModel]="editingCategory?.name" (ngModelChange)="editingCategory && (editingCategory.name = $event)" name="name" placeholder="Name">
              <input type="text" [ngModel]="editingCategory?.description" (ngModelChange)="editingCategory && (editingCategory.description = $event)" name="description" placeholder="Description">
              <button type="submit">Save</button>
              <button type="button" (click)="cancelEditing()">Cancel</button>
            </form>                                  
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
